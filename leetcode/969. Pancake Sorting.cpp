class Solution 
{
public:
    vector<int> pancakeSort(vector<int>& arr) 
    {
        vector<int> result;
        const int n = arr.size();
        
        for (int size = n; size > 1; --size)
        {
            int maxIdx = 0;
            for (int i = 1; i < size; ++i) 
            {
                if (arr[i] > arr[maxIdx]) // í˜„ì¬ ì •ë ¬ë˜ì§€ ì•Šì€ ë¶€ë¶„ì—ì„œ ê°€ì¥ í° ìš”ì†Œ ì°¾ê¸°
                {
                    maxIdx = i;
                }
            }
            
            if (maxIdx == size - 1) // ê°€ì¥ í° ìš”ì†Œê°€ ì´ë¯¸ ìµœì¢… ìœ„ì¹˜ì— ìˆë‹¤ë©´ ê±´ë„ˆë›°ê¸°
            {
                continue;
            }
            
            if (maxIdx != 0) // ê°€ì¥ í° ìš”ì†Œë¥¼ ë§¨ ì•ìœ¼ë¡œ ì´ë™
            {
                flip(arr, maxIdx +1);
                result.push_back(maxIdx + 1);
            }
            
            flip(arr, size); // ê°€ì¥ í° ìš”ì†Œë¥¼ ìµœì¢… ìœ„ì¹˜ë¡œ ì´ë™
            result.push_back(size);
        }
        
        return result;
    }
    
private:
    void flip(vector<int>& arr, const int k) // ë°°ì—´ì˜ ì²˜ìŒë¶€í„° kê¹Œì§€ë¥¼ ë’¤ì§‘ëŠ” í•¨ìˆ˜
    {
        reverse(arr.begin(), arr.begin() + k);
    }
};

// https://leetcode.com/problems/pancake-sorting/description/

/*

969. íŒ¬ì¼€ì´í¬ ì •ë ¬ (Pancake Sorting)
ì¤‘ê°„ ë‚œì´ë„

ì£¼ì œ

ê¸°ì—…

ğŸ“„ ë¬¸ì œ ì„¤ëª…
ì •ìˆ˜ ë°°ì—´ arrì´ ì£¼ì–´ì§‘ë‹ˆë‹¤. ì´ ë°°ì—´ì„ ì¼ë ¨ì˜ íŒ¬ì¼€ì´í¬ ë’¤ì§‘ê¸°(pancake flip)ë¥¼ ìˆ˜í–‰í•˜ì—¬ ì •ë ¬í•˜ì„¸ìš”.

íŒ¬ì¼€ì´í¬ ë’¤ì§‘ê¸°ë€ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:

ì •ìˆ˜ kë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ 1 <= k <= arr.lengthë¥¼ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤.

ë°°ì—´ì˜ ë¶€ë¶„ ë°°ì—´ arr[0...k-1]ì„ ë’¤ì§‘ìŠµë‹ˆë‹¤. (0-ì¸ë±ìŠ¤ ê¸°ì¤€)

ì˜ˆë¥¼ ë“¤ì–´, arr = [3,2,1,4]ì´ê³  k = 3ì„ ì„ íƒí•˜ì—¬ íŒ¬ì¼€ì´í¬ ë’¤ì§‘ê¸°ë¥¼ ìˆ˜í–‰í•˜ë©´, arr[0...2] = [3,2,1]ì´ ë’¤ì§‘í˜€ arr = [1,2,3,4]ê°€ ë©ë‹ˆë‹¤.

ë°°ì—´ì„ ì •ë ¬í•˜ê¸° ìœ„í•´ ìˆ˜í–‰í•œ íŒ¬ì¼€ì´í¬ ë’¤ì§‘ê¸° k ê°’ë“¤ì˜ ì‹œí€€ìŠ¤ë¥¼ ë°˜í™˜í•˜ì„¸ìš”. ë°°ì—´ì„ 10 * arr.length ë²ˆì˜ ë’¤ì§‘ê¸°ë¡œ ì •ë ¬í•  ìˆ˜ ìˆëŠ” ìœ íš¨í•œ ë‹µì•ˆì€ ì •ë‹µìœ¼ë¡œ ì¸ì •ë©ë‹ˆë‹¤.

ğŸ’¡ ì˜ˆì œ 1:
less
ì½”ë“œ ë³µì‚¬
ì…ë ¥: arr = [3,2,4,1]
ì¶œë ¥: [4,2,4,3]
ì„¤ëª…: íŒ¬ì¼€ì´í¬ ë’¤ì§‘ê¸°ë¥¼ 4ë²ˆ ìˆ˜í–‰í•˜ë©°, k ê°’ì€ ìˆœì„œëŒ€ë¡œ 4, 2, 4, 3ì…ë‹ˆë‹¤.

1ë²ˆì§¸ ë’¤ì§‘ê¸° (k = 4): arr = [3,2,4,1] â†’ arr = [1,4,2,3]
2ë²ˆì§¸ ë’¤ì§‘ê¸° (k = 2): arr = [1,4,2,3] â†’ arr = [4,1,2,3]
3ë²ˆì§¸ ë’¤ì§‘ê¸° (k = 4): arr = [4,1,2,3] â†’ arr = [3,2,1,4]
4ë²ˆì§¸ ë’¤ì§‘ê¸° (k = 3): arr = [3,2,1,4] â†’ arr = [1,2,3,4] (ì •ë ¬ ì™„ë£Œ)
ë”°ë¼ì„œ, [4,2,4,3]ì´ ì˜¬ë°”ë¥¸ ì¶œë ¥ì…ë‹ˆë‹¤.

ğŸ’¡ ì˜ˆì œ 2:
less
ì½”ë“œ ë³µì‚¬
ì…ë ¥: arr = [1,2,3]
ì¶œë ¥: []
ì„¤ëª…: ì…ë ¥ ë°°ì—´ì´ ì´ë¯¸ ì •ë ¬ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, íŒ¬ì¼€ì´í¬ ë’¤ì§‘ê¸°ë¥¼ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¹ˆ ë°°ì—´ []ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

ì°¸ê³ : ë‹¤ë¥¸ ë‹µì•ˆ, ì˜ˆë¥¼ ë“¤ì–´ [3, 3]ë„ ì •ë‹µìœ¼ë¡œ ì¸ì •ë©ë‹ˆë‹¤.

ğŸ“Œ ì œì•½ ì‚¬í•­:
1 <= arr.length <= 100
1 <= arr[i] <= arr.length
ëª¨ë“  ì •ìˆ˜ arr[i]ëŠ” ì„œë¡œ ë‹¤ë¦…ë‹ˆë‹¤. (ì¦‰, arrì€ 1ë¶€í„° arr.lengthê¹Œì§€ì˜ ì •ìˆ˜ì˜ ìˆœì—´ì…ë‹ˆë‹¤.)
*/
